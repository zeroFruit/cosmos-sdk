(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{792:function(e,o,t){"use strict";t.r(o);var a=t(1),s=Object(a.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"concepts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#concepts"}},[e._v("#")]),e._v(" Concepts")]),e._v(" "),t("h2",{attrs:{id:"group"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#group"}},[e._v("#")]),e._v(" Group")]),e._v(" "),t("p",[e._v("A group is simply an aggregation of accounts with associated weights. It is not\nan account and doesn't have a balance. It doesn't in and of itself have any\nsort of voting or decision weight. It does have an \"administrator\" which has\nthe ability to add, remove and update members in the group. Note that a\ngroup policy account could be an administrator of a group.")]),e._v(" "),t("h2",{attrs:{id:"group-policy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#group-policy"}},[e._v("#")]),e._v(" Group Policy")]),e._v(" "),t("p",[e._v('A group policy is an account associated with a group and a decision policy.\nGroup policies are abstracted from groups because a single group may have\nmultiple decision policies for different types of actions. Managing group\nmembership separately from decision policies results in the least overhead\nand keeps membership consistent across different policies. The pattern that\nis recommended is to have a single master group policy for a given group,\nand then to create separate group policies with different decision policies\nand delegate the desired permissions from the master account to\nthose "sub-accounts" using the '),t("code",[e._v("x/authz")]),e._v(" module.")]),e._v(" "),t("h2",{attrs:{id:"decision-policy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#decision-policy"}},[e._v("#")]),e._v(" Decision Policy")]),e._v(" "),t("p",[e._v("A decision policy is the mechanism by which members of a group can vote on\nproposals, as well as the rules that dictate whether a proposal should pass\nor not based on its tally outcome.")]),e._v(" "),t("p",[e._v("All decision policies generally would have a mininum execution perdio and a\nmaximum voting window. The minimum execution period is the minimum amount of time\nthat must pass in order for a proposal to potentially be executed, and it may\nbe set to 0. The maximum voting window is the maximum time that a proposal may\nbe voted on before it is closed.")]),e._v(" "),t("p",[e._v("The chain developer also defines an app-wide maximum execution period, which is\nthe maximum amount of time after a proposal's voting period end where users are\nallowed to execute a proposal.")]),e._v(" "),t("h3",{attrs:{id:"threshold-decision-policy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#threshold-decision-policy"}},[e._v("#")]),e._v(" Threshold decision policy")]),e._v(" "),t("p",[e._v("A threshold decision policy defines a threshold of yes votes (based on a tally\nof voter weights) that must be achieved in order for a proposal to pass. For\nthis decision policy, abstain and veto are simply treated as no's.")]),e._v(" "),t("h3",{attrs:{id:"percentage-decision-policy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#percentage-decision-policy"}},[e._v("#")]),e._v(" Percentage decision policy")]),e._v(" "),t("p",[e._v("A percentage decision policy is similar to a threshold decision policy, except\nthat the threshold is not defined as a constant weight, but as a percentage.\nIt's more suited for groups where the group members' weights can be updated, as\nthe percentage threshold stays the same, and doesn't depend on how those member\nweights get updated.")]),e._v(" "),t("h2",{attrs:{id:"proposal"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#proposal"}},[e._v("#")]),e._v(" Proposal")]),e._v(" "),t("p",[e._v("Any member of a group can submit a proposal for a group policy account to decide upon.\nA proposal consists of a set of messages that will be executed if the proposal\npasses as well as any metadata associated with the proposal.")]),e._v(" "),t("h2",{attrs:{id:"voting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#voting"}},[e._v("#")]),e._v(" Voting")]),e._v(" "),t("p",[e._v("There are four choices to choose while voting - yes, no, abstain and veto. Not\nall decision policies will support them. Votes can contain some optional metadata.\nIn the current implementation, the voting window begins as soon as a proposal\nis submitted.")]),e._v(" "),t("h2",{attrs:{id:"tallying"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tallying"}},[e._v("#")]),e._v(" Tallying")]),e._v(" "),t("p",[e._v("Tallying is the counting of all votes on a proposal. It happens only once in\nthe lifecycle of a proposal, but can be triggered by two factors, whichever\nhappens first:")]),e._v(" "),t("ul",[t("li",[e._v("either someone tries to execute the proposal (see next section), which can\nhappen on a "),t("code",[e._v("Msg/Exec")]),e._v(" transaction, or a "),t("code",[e._v("Msg/{SubmitProposal,Vote}")]),e._v("\ntransaction with the "),t("code",[e._v("Exec")]),e._v(" field set. When a proposal execution is attempted,\na tally is done first to make sure the proposal passes.")]),e._v(" "),t("li",[e._v("or on "),t("code",[e._v("EndBlock")]),e._v(" when the proposal's voting period end just passed.")])]),e._v(" "),t("p",[e._v("If the tally result passes the decision policy's rules, then the proposal is\nmarked as "),t("code",[e._v("STATUS_CLOSED")]),e._v(", so no more voting is allowed anymore, and the tally\nresult is persisted to state.")]),e._v(" "),t("h2",{attrs:{id:"executing-proposals"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#executing-proposals"}},[e._v("#")]),e._v(" Executing Proposals")]),e._v(" "),t("p",[e._v("Proposals are executed only when the tallying is done, and the group account's\ndecision policy allows the proposal to pass based on the tally outcome.")]),e._v(" "),t("p",[e._v("Proposals will not be automatically executed by the chain in this current design,\nbut rather a user must submit a "),t("code",[e._v("Msg/Exec")]),e._v(" transaction to attempt to execute the\nproposal based on the current votes and decision policy.\nIt's also possible to try to execute a proposal immediately on creation or on\nnew votes using the "),t("code",[e._v("Exec")]),e._v(" field of "),t("code",[e._v("Msg/SubmitProposal")]),e._v(" and "),t("code",[e._v("Msg/Vote")]),e._v(" requests.\nIn the former case, proposers signatures are considered as yes votes.\nFor now, if the proposal can't be executed, it'll still be opened for new votes and\ncould be executed later on.")]),e._v(" "),t("h2",{attrs:{id:"pruning"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pruning"}},[e._v("#")]),e._v(" Pruning")]),e._v(" "),t("p",[e._v("Proposals and votes are automatically pruned to avoid state bloat.")]),e._v(" "),t("p",[e._v("Votes are pruned:")]),e._v(" "),t("ul",[t("li",[e._v("either after a successful tally, i.e. a tally whose result passes the decision\npolicy's rules, which can be trigged by a "),t("code",[e._v("Msg/Exec")]),e._v(" or a\n"),t("code",[e._v("Msg/{SubmitProposal,Vote}")]),e._v(" with the "),t("code",[e._v("Exec")]),e._v(" field,")]),e._v(" "),t("li",[e._v("or on "),t("code",[e._v("EndBlock")]),e._v(" right after the proposal's voting period end,")])]),e._v(" "),t("p",[e._v("whichever happens first.")]),e._v(" "),t("p",[e._v("Proposals are pruned:")]),e._v(" "),t("ul",[t("li",[e._v("either after a successful proposal execution,")]),e._v(" "),t("li",[e._v("or on "),t("code",[e._v("EndBlock")]),e._v(" right after the proposal's "),t("code",[e._v("voting_period_end")]),e._v(" +\n"),t("code",[e._v("max_execution_period")]),e._v(" (defined as an app-wide configuration) is passed,")])]),e._v(" "),t("p",[e._v("whichever happens first.")])])}),[],!1,null,null,null);o.default=s.exports}}]);